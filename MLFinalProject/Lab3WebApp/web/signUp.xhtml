<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Sign Up Page</title>
    </h:head>
    <h:body>
        <h2>Sign Up Here!</h2><br/>
        <h:form>
            First Name: <h:inputText id="firstID" value="#{signUpController.theModel.firstName}">
                <f:validateLength minimum="2" maximum ="25"/>
            </h:inputText> <br/><br/>

            Last Name: <h:inputText id="lastID" value="#{signUpController.theModel.lastName}">
                <f:validateLength minimum="2" maximum ="25"/>
            </h:inputText> <br/><br/>

            User ID: <h:inputText id="userID" value="#{signUpController.theModel.userID}">              
                <f:validateRequired/>    
            </h:inputText>  
            
            <h:commandButton value="Check User ID" id="b" action="#{signUpController.checkID}">
                <f:ajax execute="userID" render="userCheck"/>
            </h:commandButton>
            
            <h:outputText id="userCheck" value="#{signUpController.validId}"/>
            <br/><br/>

            Password: <h:inputSecret id="passwordID" value="#{signUpController.theModel.password}">
                <f:validateRegex pattern = "((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})"/>
                <f:validateRequired/>
            </h:inputSecret> <br/><br/>

            Confirm Password: <h:inputSecret id="confirmID" value="#{signUpController.theModel.password2}">
                <f:validateRequired/>
            </h:inputSecret> <br/><br/>

            Email: <h:inputText id="emailID" value="#{signUpController.theModel.email}">
                <f:validateRequired/>
            </h:inputText> <br/><br/>

            Security Question: <h:inputText id="questionID" value="#{signUpController.theModel.secQuestion}">
                <f:validateRequired/>
            </h:inputText> <br/><br/>

            Security Answer: <h:inputText id="answerID" value="#{signUpController.theModel.secAnswer}">
                <f:validateRequired/>
            </h:inputText> <br/><br/>

            <h:commandButton id="submitID" value="Sign Up" action="#{signUpController.createProfile()}"/>
            <br/><br/><br/>
            Note: the password provided must be 6-20 characters, include atleast 1 digit (0-9), include at least 1 upper and lower case letter, and 1 special character (@#$%).
        </h:form>

    </h:body>
</html>

